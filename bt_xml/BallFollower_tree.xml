<!-- Behaviour Tree that sequentially navigates locations naively -->
<root main_tree_to_execute = "MainTree">
    <BehaviorTree ID="MainTree">
        <!-- <waitActionClient  In_sec="1" In_nanosec="0"/> -->

        <!-- <SubTree ID="Start_mechanisms"/> -->
        <!-- <SubTree ID="AREA_3_TASK"/> -->
        <!-- <LineFollower name = "Back_up" Ip_action_type="5" In_back_dist="0.1"/> -->
        <!-- <SubTree ID="Test_Mechanisms"/> -->

       
    
        <SubTree ID="ROOT_TREE"/>
       
    </BehaviorTree>

    <BehaviorTree ID="ROOT_TREE">
        <SequenceStar>
            <waitMillisecond name="wait_in_ms" Ip_wait_time="1500"/>
            <!-- <waitActionClient  In_sec="3" In_nanosec="0"/> -->
	    <InitiallizeActuators name = "initiallize_actutatos"
		    Op_RollerStatus="{RollerStatus}"
            Op_RollerSpeed="{RollerSpeed}"
            Op_ConveyerStatus="{ConveyerStatus}"
            Op_ConveyerSpeed="{ConveyerSpeed}"
            Op_PneumaticStatus="{PneumaticStatus}"/>
        <PacketPublisher name="packetPublisher"
            Ip_RollerStatus="{RollerStatus}"
            Ip_RollerSpeed="{RollerSpeed}"
            Ip_ConveyerStatus="{ConveyerStatus}"
            Ip_ConveyerSpeed="{ConveyerSpeed}"
            Ip_PneumaticStatus="{PneumaticStatus}"/>
            <!-- <CvConfig name = "silo_activate" In_vision_type="1"/> -->
            <Inverter>
                <KeepRunningUntilFailure>
                    <Inverter>
                        <IfThenElse>
                            <ZoneAndColorConfig name="START_ZONE_OR_RETRY_ZONE"/>
                            <SubTree ID = "START_ZONE"/>
                            <SubTree ID = "RETRY_ZONE"/>

                        </IfThenElse>
                    </Inverter>
                </KeepRunningUntilFailure>
            </Inverter>
        </SequenceStar>
    </BehaviorTree>

    <BehaviorTree ID = "START_ZONE">
            <WhileDoElse>
                <StartAndWait name="Waiting_for_go_command" Op_Start_wait="{start_wait}"
                    Op_RollerStatus="{RollerStatus}"
                    Op_RollerSpeed="{RollerSpeed}"
                    Op_ConveyerStatus="{ConveyerStatus}"
                    Op_ConveyerSpeed="{ConveyerSpeed}"
                    Op_PneumaticStatus="{PneumaticStatus}"/>


                <SequenceStar>
                    <LineFollower name = "from_start_zone" Ip_action_type="0"/>
                    <SubTree ID = "AREA_3_TASK"/>
                </SequenceStar>
                <!-- <SubTree ID = "AREA_3_TASK"/> -->


                <!-- <LineFollower name = "from_start_zone" Ip_action_type="0"/> -->
                <!-- <SubTree ID = "AREA_3_TASK"/> -->
                <!-- <SubTree ID="SILO_TEST"/> -->

                <Inverter>
                    <SequenceStar>
                        <SubTree ID="Stop_mechanisms"/>
                        <CvConfig name = "Reset_vision"/>
                    </SequenceStar>
                </Inverter>
            </WhileDoElse>
    </BehaviorTree>

    <BehaviorTree ID = "RETRY_ZONE">
        <WhileDoElse>
            <StartAndWait name="Waiting_for_go_command" Op_Start_wait="{start_wait}"
                Op_RollerStatus="{RollerStatus}"
                Op_RollerSpeed="{RollerSpeed}"
                Op_ConveyerStatus="{ConveyerStatus}"
                Op_ConveyerSpeed="{ConveyerSpeed}"
                Op_PneumaticStatus="{PneumaticStatus}"/>

            <SequenceStar>
                <LineFollower name = "from_retry_zone" Ip_action_type="1"/>
                <SubTree ID = "AREA_3_TASK"/>
            </SequenceStar>
            
            <!-- <SubTree ID = "AREA_3_TASK"/> -->
            
             <Inverter>
                <SequenceStar>
                    <SubTree ID="Stop_mechanisms"/>
                    <CvConfig name = "Reset_vision"/>
                </SequenceStar>
                    
            </Inverter>
        </WhileDoElse>
    </BehaviorTree>

    <BehaviorTree ID = "AREA_3_TASK">
        <!-- <GoToOrigin name= "ToOrigin"/> -->
        <!-- <GoToMiddle name="absolute_middle" Ip_middle_type="1"/>      -->
        <!-- <SubTree ID="SILO_TEST"/> -->



        <SequenceStar>   
            <SubTree ID="Start_mechanisms"/>

            <GoToOrigin name= "ToOrigin"/>

            <!-- <GoToMiddle name="absolute_middle" Ip_middle_type="1"/>      -->
            <Repeat num_cycles="100">
                <SequenceStar>
                    <LineFollower name = "Align_yaw" Ip_action_type="3"/>
                    <SubTree ID = "FindBall_AND_StoreInSilo"
                        ballDetectionFlag="{ballDetectionFlag}"
                        RollerStatus="{RollerStatus}"
                        RollerSpeed="{RollerSpeed}"
                        ConveyerStatus="{ConveyerStatus}"
                        ConveyerSpeed="{ConveyerSpeed}"
                        PneumaticStatus="{PneumaticStatus}"/>
                </SequenceStar>
            </Repeat>
        </SequenceStar>
    </BehaviorTree>

    <BehaviorTree ID="FindBall_AND_StoreInSilo">
        <Inverter>
            <KeepRunningUntilFailure>
                <Inverter>
                    <SequenceStar>
                    <!-- Actuators reset initially to remove runtime error.. Error reading RollerSpeed_ -->
                        <TurnOffRoller name = "Stop_roller" 
                            Op_RollerSpeed="{RollerSpeed}"
                            Op_RollerStatus="{RollerStatus}"/> 
                        <PneumaticOff name="Lower_pneumatic" Op_PneumaticStatus="{PneumaticStatus}"/>
                        <TurnOffConveyer name = "Stop_conveyer"
                            Op_ConveyerSpeed="{ConveyerSpeed}" 
                            Op_ConveyerStatus="{ConveyerStatus}"/>
                    <!-- Up to here -->
                        <SubTree ID="Start_mechanisms"/>
                        <SubTree ID="Retrieve_balls"
                            ballDetectionFlag="{ballDetectionFlag}"
                            RollerStatus="{RollerStatus}"
                            RollerSpeed="{RollerSpeed}"
                            ConveyerStatus="{ConveyerStatus}"
                            ConveyerSpeed="{ConveyerSpeed}"
                            PneumaticStatus="{PneumaticStatus}"/>
                        <waitMillisecond name="wait_in_ms" Ip_wait_time="100"/>
                        <SubTree ID="Go_TO_SILO"/>
                        <TurnOnConveyer name = "Keep_conveyer_running" 
                            Op_ConveyerStatus="{ConveyerStatus}"
                            Op_ConveyerSpeed="{ConveyerSpeed}" 
                            Ip_ConveyerSpeed="35"/>
                        <PacketPublisher name="packetPublisher"
                            Ip_RollerStatus="{RollerStatus}"
                            Ip_RollerSpeed="{RollerSpeed}"
                            Ip_ConveyerStatus="{ConveyerStatus}"
                            Ip_ConveyerSpeed="{ConveyerSpeed}"
                            Ip_PneumaticStatus="{PneumaticStatus}"/>
                        <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>
                        <TurnOffConveyer name = "Stop_conveyer"
                            Op_ConveyerSpeed="{ConveyerSpeed}" 
                            Op_ConveyerStatus="{ConveyerStatus}"/>
                        <PacketPublisher name="packetPublisher"
                            Ip_RollerStatus="{RollerStatus}"
                            Ip_RollerSpeed="{RollerSpeed}"
                            Ip_ConveyerStatus="{ConveyerStatus}"
                            Ip_ConveyerSpeed="{ConveyerSpeed}"
                            Ip_PneumaticStatus="{PneumaticStatus}"/>  
                        <CvConfig name = "ball_detection_activate" In_vision_type="0"/>
                        <GoToMiddle name="absolute_middle" Ip_middle_type="1"/>     
    
                        <!-- <GoToOrigin name= "ToOrigin"/> -->

                        <!-- <GoToMiddle name="goToMiddle" Ip_middle_type="1"/>      -->
                    </SequenceStar>
                </Inverter>
            </KeepRunningUntilFailure>
        </Inverter>
    </BehaviorTree>

    <BehaviorTree ID="Start_mechanisms">
        <Sequence>
            <PneumaticOn name="Lower_pneumatic" Op_PneumaticStatus="{PneumaticStatus}"/>
            
            <TurnOnRoller name = "Start_intake_roller" 
                    Op_RollerStatus="{RollerStatus}"
                    Op_RollerSpeed="{RollerSpeed}"
                    Ip_RollerSpeed="35"/>
            <TurnOnConveyer name = "Keep_conveyer_running" 
                    Op_ConveyerStatus="{ConveyerStatus}"
                    Op_ConveyerSpeed="{ConveyerSpeed}" 
                    Ip_ConveyerSpeed="35"/>
            <PacketPublisher name="packetPublisher"
                    Ip_RollerStatus="{RollerStatus}"
                    Ip_RollerSpeed="{RollerSpeed}"
                    Ip_ConveyerStatus="{ConveyerStatus}"
                    Ip_ConveyerSpeed="{ConveyerSpeed}"
                    Ip_PneumaticStatus="{PneumaticStatus}"/>
        </Sequence>
    </BehaviorTree>


    <BehaviorTree ID="Stop_mechanisms">
        <Sequence>
            <TurnOffConveyer name = "Stop_conveyer"
                Op_ConveyerSpeed="{ConveyerSpeed}" 
                Op_ConveyerStatus="{ConveyerStatus}"/>

            <TurnOffRoller name = "Stop_roller" 
                Op_RollerSpeed="{RollerSpeed}"
                Op_RollerStatus="{RollerStatus}"/> 
            <PneumaticOff name="Lower_pneumatic" Op_PneumaticStatus="{PneumaticStatus}"/>
            <PacketPublisher name="packetPublisher"
                    Ip_RollerStatus="{RollerStatus}"
                    Ip_RollerSpeed="{RollerSpeed}"
                    Ip_ConveyerStatus="{ConveyerStatus}"
                    Ip_ConveyerSpeed="{ConveyerSpeed}"
                    Ip_PneumaticStatus="{PneumaticStatus}"/>
        </Sequence>
    </BehaviorTree>


    <BehaviorTree ID="Retrieve_balls">
        <SequenceStar>
            <Inverter>
                <KeepRunningUntilFailure>
                    <WhileDoElse> 
                        <Inverter>
                            <isBallInside name = "isBallInside"/>
                        </Inverter>
                        <WhileDoElse> 
                            <isBallDetected name="isBallDetected_node" op_pose="{pose}"/>
                          
                            <!-- <SequenceStar> -->
                                <!-- <LineFollower name = "Rotate_to_yaw" Ip_action_type="4" In_pose="{pose}"/> -->
                                <!-- <GoToBallPose name="GoToBallPose_node" in_pose="{pose}"/> -->
                            <!-- </SequenceStar > -->
                            <Sequence>
                                <SubTree ID="Start_mechanisms"/>
                                <GoToBallPose name="GoToBallPose_node" in_pose="{pose}"/>
                            </Sequence>

                            <BallRecovery name="Recovery_node"/>
                            <!-- <Sequence>
                                <SubTree ID="Stop_mechanisms"/>
                                <BallRecovery name="Recovery_node"/>
                            </Sequence> -->
                            <!-- <BackUpActionClient name= "backup" In_dist="0.3" In_speed="1.0"/> -->
                            <!-- <LineFollower name = "Back_up" Ip_action_type="5" In_back_dist="0.1"/> -->


                            <!-- <SequenceStar >
                                <LineFollower name = "line_follow" Ip_action_type="3" In_pose="{pose}"/>
                                <BallRecovery name="Recovery_node"/>
                            </SequenceStar> -->
                        </WhileDoElse> 

                        <returnFailure name="returnFailed"/>
                    </WhileDoElse> 
                </KeepRunningUntilFailure>
            </Inverter>   

            <TurnOffRoller name = "Stop_roller" 
                Op_RollerSpeed="{RollerSpeed}"
                Op_RollerStatus="{RollerStatus}"/> 
            <PneumaticOff name="Lower_pneumatic" Op_PneumaticStatus="{PneumaticStatus}"/>
             <TurnOnConveyer name = "Keep_conveyer_running" 
                Op_ConveyerStatus="{ConveyerStatus}"
                Op_ConveyerSpeed="{ConveyerSpeed}" 
                Ip_ConveyerSpeed="40"/>
            <PacketPublisher name="packetPublisher"
                Ip_RollerStatus="{RollerStatus}"
                Ip_RollerSpeed="{RollerSpeed}"
                Ip_ConveyerStatus="{ConveyerStatus}"
                Ip_ConveyerSpeed="{ConveyerSpeed}"
                Ip_PneumaticStatus="{PneumaticStatus}"/>

            <Inverter>
                <KeepRunningUntilFailure>
                    <Inverter>
                        <IfThenElse>
                            <isOnlyBall name="isOnlyBall"/>
                            <SequenceStar>
                                <TurnOffConveyer name = "Stop_conveyer" Op_ConveyerStatus="{ConveyerStatus}"/>
                                <PacketPublisher name="packetPublisher"
                                        Ip_RollerStatus="{RollerStatus}"
                                        Ip_RollerSpeed="{RollerSpeed}"
                                        Ip_ConveyerStatus="{ConveyerStatus}"
                                        Ip_ConveyerSpeed="{ConveyerSpeed}"
                                        Ip_PneumaticStatus="{PneumaticStatus}"/>
                            </SequenceStar>        
                        </IfThenElse>
                    </Inverter>
                </KeepRunningUntilFailure>
            </Inverter>

        </SequenceStar>
    </BehaviorTree>

    <BehaviorTree ID="Go_TO_SILO">
        <SequenceStar>
            <CvConfig name = "silo_detection_activate" In_vision_type="1"/>
            <LineFollower name = "Align_yaw" Ip_action_type="3"/>
            <waitMillisecond name="wait_in_ms" Ip_wait_time="1000"/>

            <!-- <waitActionClient  In_sec="1" In_nanosec="0"/> -->

            <!-- <GoToMiddle name="back_up" Ip_middle_type="0"/> -->
            <!-- <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/> -->
            <GoToSiloPose name="goToSilo" Ip_SiloNumber="2" Op_SiloNumber="{SiloNumber}"/>
            <LineFollower name = "align_w_silo" Ip_action_type="2" Ip_SiloNumber="{SiloNumber}" Op_SiloNumber="{Updated_SiloNumber}"/>
            <ResetOdom name = "Reset" Ip_SiloNumber="{Updated_SiloNumber}"/>
        </SequenceStar>
    </BehaviorTree>

    <BehaviorTree ID="SILO_TEST">
        <Repeat num_cycles="10">
            <SequenceStar>
                <GoToOrigin name= "ToOrigin"/>
                <LineFollower name = "Align_yaw" Ip_action_type="3"/>

                <SequenceStar>
                    <GoToSiloPose name="goToSilo" Ip_SiloNumber="1" Op_SiloNumber="{SiloNumber}"/>
                    <LineFollower name = "line_follow" Ip_action_type="2" Ip_SiloNumber="{SiloNumber}" Op_SiloNumber="{Updated_SiloNumber}"/>
                    <ResetOdom name = "Reset" Ip_SiloNumber="{Updated_SiloNumber}"/>
                    <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>
                    <GoToOrigin name= "ToOrigin"/>
                    <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>
                    <!-- <SubTree ID = "Circle_Around"/> -->
                    <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>
                </SequenceStar>

                <!-- <GoTo x="-1.0" y ="-0.8" /> -->
                <SequenceStar>
                    <GoToSiloPose name="goToSilo" Ip_SiloNumber="2" Op_SiloNumber="{SiloNumber}"/>
                    <LineFollower name = "line_follow" Ip_action_type="2" Ip_SiloNumber="{SiloNumber}" Op_SiloNumber="{Updated_SiloNumber}"/>
                    <ResetOdom name = "Reset" Ip_SiloNumber="{Updated_SiloNumber}"/>
                    <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>
                    <GoToOrigin name= "ToOrigin"/>
                    <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>
                    <!-- <SubTree ID = "Circle_Around"/> -->
                    <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>
                </SequenceStar>

                <!-- <GoTo x="-1.0" y ="-0.8" /> -->
                <SequenceStar>
                    <GoToSiloPose name="goToSilo" Ip_SiloNumber="3" Op_SiloNumber="{SiloNumber}"/>
                    <LineFollower name = "line_follow" Ip_action_type="2" Ip_SiloNumber="{SiloNumber}" Op_SiloNumber="{Updated_SiloNumber}"/>
                    <ResetOdom name = "Reset" Ip_SiloNumber="{Updated_SiloNumber}"/>
                    <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>
                    <GoToOrigin name= "ToOrigin"/>
                    <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>
                    <!-- <SubTree ID = "Circle_Around"/> -->
                    <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>
                </SequenceStar>

                <!-- <GoTo x="1.0" y ="-0.8" /> -->
                <SequenceStar>
                    <GoToSiloPose name="goToSilo" Ip_SiloNumber="4" Op_SiloNumber="{SiloNumber}"/>
                    <LineFollower name = "line_follow" Ip_action_type="2" Ip_SiloNumber="{SiloNumber}" Op_SiloNumber="{Updated_SiloNumber}"/>
                    <ResetOdom name = "Reset" Ip_SiloNumber="{Updated_SiloNumber}"/>
                    <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>
                    <GoToOrigin name= "ToOrigin"/>
                    <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>
                    <!-- <SubTree ID = "Circle_Around"/> -->
                    <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>
                </SequenceStar>

                <!-- <GoTo x="1.0" y ="-0.8" /> -->
                <SequenceStar>
                    <GoToSiloPose name="goToSilo" Ip_SiloNumber="5" Op_SiloNumber="{SiloNumber}"/>
                    <LineFollower name = "line_follow" Ip_action_type="2" Ip_SiloNumber="{SiloNumber}" Op_SiloNumber="{Updated_SiloNumber}"/>
                    <ResetOdom name = "Reset" Ip_SiloNumber="{Updated_SiloNumber}"/>
                    <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>                 
                    <GoToOrigin name= "ToOrigin"/>
                    <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>                 
                    <!-- <SubTree ID = "Circle_Around"/> -->
                    <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>

                </SequenceStar>

                
            </SequenceStar>
        </Repeat>        
    </BehaviorTree>

    <BehaviorTree ID="Test_Mechanisms">
        <SequenceStar>
            <PneumaticOn name="Lower_pneumatic" Op_PneumaticStatus="{PneumaticStatus}"/>
            <waitMillisecond name="wait_in_ms" Ip_wait_time="1000"/>     

            <TurnOnRoller name = "Start_intake_roller" 
                    Op_RollerStatus="{RollerStatus}"
                    Op_RollerSpeed="{RollerSpeed}"
                    Ip_RollerSpeed="50"/>
            <TurnOnConveyer name = "Keep_conveyer_running" 
                Op_ConveyerStatus="{ConveyerStatus}"
                Op_ConveyerSpeed="{ConveyerSpeed}" 
                Ip_ConveyerSpeed="50"/>    
            <PacketPublisher name="packetPublisher"
                Ip_RollerStatus="{RollerStatus}"
                Ip_RollerSpeed="{RollerSpeed}"
                Ip_ConveyerStatus="{ConveyerStatus}"
                Ip_ConveyerSpeed="{ConveyerSpeed}"
                Ip_PneumaticStatus="{PneumaticStatus}"/>
            <waitMillisecond name="wait_in_ms" Ip_wait_time="1000"/>   

            <TurnOffRoller name = "Stop_roller" 
                Op_RollerSpeed="{RollerSpeed}"
                Op_RollerStatus="{RollerStatus}"/>   
            <TurnOffConveyer name = "Stop_conveyer"
                Op_ConveyerSpeed="{ConveyerSpeed}" 
                Op_ConveyerStatus="{ConveyerStatus}"/>
            <PacketPublisher name="packetPublisher"
                Ip_RollerStatus="{RollerStatus}"
                Ip_RollerSpeed="{RollerSpeed}"
                Ip_ConveyerStatus="{ConveyerStatus}"
                Ip_ConveyerSpeed="{ConveyerSpeed}"
                Ip_PneumaticStatus="{PneumaticStatus}"/>
            <waitMillisecond name="wait_in_ms" Ip_wait_time="1000"/> 

            <TurnOnRoller name = "Start_intake_roller" 
                    Op_RollerStatus="{RollerStatus}"
                    Op_RollerSpeed="{RollerSpeed}"
                    Ip_RollerSpeed="30"/>
            <PacketPublisher name="packetPublisher"
                Ip_RollerStatus="{RollerStatus}"
                Ip_RollerSpeed="{RollerSpeed}"
                Ip_ConveyerStatus="{ConveyerStatus}"
                Ip_ConveyerSpeed="{ConveyerSpeed}"
                Ip_PneumaticStatus="{PneumaticStatus}"/>
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>     
            
            <TurnOnRoller name = "Start_intake_roller" 
                    Op_RollerStatus="{RollerStatus}"
                    Op_RollerSpeed="{RollerSpeed}"
                    Ip_RollerSpeed="40"/>
            <PacketPublisher name="packetPublisher"
                Ip_RollerStatus="{RollerStatus}"
                Ip_RollerSpeed="{RollerSpeed}"
                Ip_ConveyerStatus="{ConveyerStatus}"
                Ip_ConveyerSpeed="{ConveyerSpeed}"
                Ip_PneumaticStatus="{PneumaticStatus}"/>
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>     
            
            <TurnOnRoller name = "Start_intake_roller" 
                    Op_RollerStatus="{RollerStatus}"
                    Op_RollerSpeed="{RollerSpeed}"
                    Ip_RollerSpeed="50"/>
            <PacketPublisher name="packetPublisher"
                Ip_RollerStatus="{RollerStatus}"
                Ip_RollerSpeed="{RollerSpeed}"
                Ip_ConveyerStatus="{ConveyerStatus}"
                Ip_ConveyerSpeed="{ConveyerSpeed}"
                Ip_PneumaticStatus="{PneumaticStatus}"/>
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>     
            
            <TurnOffRoller name = "Stop_roller" 
                Op_RollerSpeed="{RollerSpeed}"
                Op_RollerStatus="{RollerStatus}"/> 
            <PacketPublisher name="packetPublisher"
                Ip_RollerStatus="{RollerStatus}"
                Ip_RollerSpeed="{RollerSpeed}"
                Ip_ConveyerStatus="{ConveyerStatus}"
                Ip_ConveyerSpeed="{ConveyerSpeed}"
                Ip_PneumaticStatus="{PneumaticStatus}"/>
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/> 

            <TurnOnConveyer name = "Keep_conveyer_running" 
                Op_ConveyerStatus="{ConveyerStatus}"
                Op_ConveyerSpeed="{ConveyerSpeed}" 
                Ip_ConveyerSpeed="30"/>    
            <PacketPublisher name="packetPublisher"
                Ip_RollerStatus="{RollerStatus}"
                Ip_RollerSpeed="{RollerSpeed}"
                Ip_ConveyerStatus="{ConveyerStatus}"
                Ip_ConveyerSpeed="{ConveyerSpeed}"
                Ip_PneumaticStatus="{PneumaticStatus}"/>
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/> 

            <TurnOnConveyer name = "Keep_conveyer_running" 
                Op_ConveyerStatus="{ConveyerStatus}"
                Op_ConveyerSpeed="{ConveyerSpeed}" 
                Ip_ConveyerSpeed="40"/>    
            <PacketPublisher name="packetPublisher"
                Ip_RollerStatus="{RollerStatus}"
                Ip_RollerSpeed="{RollerSpeed}"
                Ip_ConveyerStatus="{ConveyerStatus}"
                Ip_ConveyerSpeed="{ConveyerSpeed}"
                Ip_PneumaticStatus="{PneumaticStatus}"/>
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/> 

            <TurnOnConveyer name = "Keep_conveyer_running" 
                Op_ConveyerStatus="{ConveyerStatus}"
                Op_ConveyerSpeed="{ConveyerSpeed}" 
                Ip_ConveyerSpeed="50"/>    
            <PacketPublisher name="packetPublisher"
                Ip_RollerStatus="{RollerStatus}"
                Ip_RollerSpeed="{RollerSpeed}"
                Ip_ConveyerStatus="{ConveyerStatus}"
                Ip_ConveyerSpeed="{ConveyerSpeed}"
                Ip_PneumaticStatus="{PneumaticStatus}"/>
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/> 
            
            <TurnOffConveyer name = "Stop_conveyer"
                Op_ConveyerSpeed="{ConveyerSpeed}" 
                Op_ConveyerStatus="{ConveyerStatus}"/>
            <PacketPublisher name="packetPublisher"
                Ip_RollerStatus="{RollerStatus}"
                Ip_RollerSpeed="{RollerSpeed}"
                Ip_ConveyerStatus="{ConveyerStatus}"
                Ip_ConveyerSpeed="{ConveyerSpeed}"
                Ip_PneumaticStatus="{PneumaticStatus}"/>
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/> 
            
            <PneumaticOff name="Lower_pneumatic" Op_PneumaticStatus="{PneumaticStatus}"/>
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/> 
            <SubTree ID="Stop_mechanisms"/>

        </SequenceStar>
    
    </BehaviorTree>

    <BehaviorTree ID="Circle_Around">
        <SequenceStar>
            <GoTo x="1.5" y ="-0.7" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="1.5" y ="0.3" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>     
            <GoTo x="-1.5" y ="0.3" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>     
            <GoTo x="-1.5" y ="-0.7" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>     
            <GoTo x="0.0" y ="0.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>     
        </SequenceStar>
    </BehaviorTree>

    <BehaviorTree ID = "Take_pictures">
        <SequenceStar>
            <GoTo x="1.5" y ="0.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <StartPhotoCapture name="Take_oakd_pictures" Ip_Ip_camera_type="1"/>
            <StartPhotoCapture name="Take_silo_pictures" Ip_Ip_camera_type="2"/>

            <GoTo x="1.0" y ="0.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="0.5" y ="0.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="0.0" y ="0.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="-0.5" y ="0.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="-1.0" y ="0.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="-1.5" y ="0.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   

            <GoTo x="-1.5" y ="0.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="-1.0" y ="0.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="-0.5" y ="0.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="0.0" y ="0.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="0.5" y ="0.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="1.0" y ="0.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="1.5" y ="0.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   

            <GoTo x="1.5" y ="1.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>  
            <GoTo x="1.0" y ="1.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="0.5" y ="1.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="0.0" y ="1.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="-0.5" y ="1.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="-1.0" y ="1.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="-1.5" y ="1.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   

            <GoTo x="-1.5" y ="1.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="-1.0" y ="1.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="-0.5" y ="1.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="0.0" y ="1.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="0.5" y ="1.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="1.0" y ="1.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="1.5" y ="1.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   

            <GoTo x="1.5" y ="2.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>  
            <GoTo x="1.0" y ="2.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="0.5" y ="2.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="0.0" y ="2.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="-0.5" y ="2.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="-1.0" y ="2.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="-1.5" y ="2.0" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   

            <GoTo x="-1.5" y ="2.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="-1.0" y ="2.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="-0.5" y ="2.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="0.0" y ="2.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="0.5" y ="2.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="1.0" y ="2.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   
            <GoTo x="1.5" y ="2.5" />
            <waitMillisecond name="wait_in_ms" Ip_wait_time="500"/>   

            <StartPhotoCapture name="Stop_Taking_picures"/>

        </SequenceStar>
    </BehaviorTree>

</root>


 
  
